<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CppyABM: /Users/matin/Downloads/testProjs/CppyABM/examples/cpp/build/_deps/pybind11-src/tests/test_builtin_casters.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppyABM
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="dir_8976e5d03119516083eaca3ddca61311.html">cpp</a></li><li class="navelem"><a class="el" href="dir_eac5761e9dc061e721c20bc0f1e3d3fc.html">build</a></li><li class="navelem"><a class="el" href="dir_1784aa3aa28ad64c0c4036a372ae00ff.html">_deps</a></li><li class="navelem"><a class="el" href="dir_0ccba7645dc0c717a2c4b127abb4df60.html">pybind11-src</a></li><li class="navelem"><a class="el" href="dir_b9601079a0c6850eab86c0b9d1e0a8a1.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">test_builtin_casters.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="test__builtin__casters_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">    tests/test_builtin_casters.cpp -- Casters available without any additional headers</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">    Copyright (c) 2017 Wenzel Jakob &lt;wenzel.jakob@epfl.ch&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">    All rights reserved. Use of this source code is governed by a</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">    BSD-style license that can be found in the LICENSE file.</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="pybind11__tests_8h.html">pybind11_tests.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="complex_8h.html">pybind11/complex.h</a>&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160; </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#if defined(_MSC_VER)</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#  pragma warning(push)</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#  pragma warning(disable: 4127) // warning C4127: Conditional expression is constant</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="struct_const_ref_casted.html">   18</a></span>&#160;<span class="keyword">struct </span><a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a> {</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="struct_const_ref_casted.html#a26a788e4e32d3ba5daab92889ab359ad">   19</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_const_ref_casted.html#a26a788e4e32d3ba5daab92889ab359ad">tag</a>;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;};</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#aad9385691334ddf318664d8d58419bc8">PYBIND11_NAMESPACE_BEGIN</a>(<a class="code" href="namespacepybind11.html">pybind11</a>)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#aad9385691334ddf318664d8d58419bc8">PYBIND11_NAMESPACE_BEGIN</a>(detail)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="keyword">template</span> &lt;&gt;</div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html">   25</a></span>&#160;<span class="keyword">class </span><a class="code" href="classtype__caster.html">type_caster</a>&lt;<a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&gt; {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; <span class="keyword">public</span>:</div>
<div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a075130a7756cb868fa65a816efb3c9d3">   27</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="structname.html">name</a> = _&lt;ConstRefCasted&gt;();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="comment">// Input is unimportant, a new value will always be constructed based on the</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;  <span class="comment">// cast operator.</span></div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a6886daa8e5c039f90f5bd86324601315">   31</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classtype__caster_3_01_const_ref_casted_01_4.html#a6886daa8e5c039f90f5bd86324601315">load</a>(<a class="code" href="classhandle.html">handle</a>, <span class="keywordtype">bool</span>) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a71b793b744938e1042005e4efa31ce8f">   33</a></span>&#160;  <span class="keyword">operator</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;&amp;() { <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {1}; <span class="keywordflow">return</span> <a class="code" href="cast_8h.html#a9d3321974e3d593c2e75a2a5b4d6b1b9">std::move</a>(<a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a>); }</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#af8bc2aa6b822d7953453260ebf143758">   34</a></span>&#160;  <span class="keyword">operator</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;() { <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {2}; <span class="keywordflow">return</span> <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a>; }</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#aebdc0fd3fb46a5994834778b6b349348">   35</a></span>&#160;  <span class="keyword">operator</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*() { <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {3}; <span class="keywordflow">return</span> &amp;<a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a>; }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a65ed5c5ace2db45a30432e79e84811cf">   37</a></span>&#160;  <span class="keyword">operator</span> <span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;() { <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {4}; <span class="keywordflow">return</span> <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a>; }</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a07f8178a09c5e8024df1a40e9b93bea1">   38</a></span>&#160;  <span class="keyword">operator</span> <span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*() { <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {5}; <span class="keywordflow">return</span> &amp;<a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a>; }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="comment">// custom cast_op to explicitly propagate types to the conversion operators.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T_&gt;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classtype__caster_3_01_const_ref_casted_01_4.html#a0d8d84e17d7554fb99b411b6882ebd95">   42</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classtype__caster_3_01_const_ref_casted_01_4.html#a0d8d84e17d7554fb99b411b6882ebd95">cast_op_type</a> =</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      <a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#acdb0eff728aec08ed6fff07d2885ea9d">conditional_t</a>&lt;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;          std::is_same&lt;remove_reference_t&lt;T_&gt;, <span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*&gt;<a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">::value</a>, <span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*,</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#acdb0eff728aec08ed6fff07d2885ea9d">conditional_t</a>&lt;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;          <a class="code" href="namespacetest__callbacks.html#a9e87722eddd519b2bd0d4bd5874ccb2b">std::is_same&lt;T_, const ConstRefCasted&amp;&gt;::value</a>, <span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#acdb0eff728aec08ed6fff07d2885ea9d">conditional_t</a>&lt;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;          std::is_same&lt;remove_reference_t&lt;T_&gt;, <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*&gt;<a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">::value</a>, <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>*,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#acdb0eff728aec08ed6fff07d2885ea9d">conditional_t</a>&lt;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;          <a class="code" href="namespacetest__callbacks.html#a9e87722eddd519b2bd0d4bd5874ccb2b">std::is_same&lt;T_, ConstRefCasted&amp;&gt;::value</a>, <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;          <span class="comment">/* else */</span><a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;&amp;&gt;&gt;&gt;&gt;;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; <span class="keyword">private</span>:</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a> <a class="code" href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">value</a> = {0};</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#a9baa3dd94a23038fa91a432784989d2f">PYBIND11_NAMESPACE_END</a>(detail)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<a class="code" href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#a9baa3dd94a23038fa91a432784989d2f">PYBIND11_NAMESPACE_END</a>(<a class="code" href="namespacepybind11.html">pybind11</a>)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160; </div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="test__builtin__casters_8cpp.html#a4dcf8e609d9ab2d0daacba385a697201">   61</a></span>&#160;<a class="code" href="test__builtin__casters_8cpp.html#a4dcf8e609d9ab2d0daacba385a697201">TEST_SUBMODULE</a>(builtin_casters, <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="comment">// test_simple_string</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_roundtrip&quot;</span>, [](<span class="keyword">const</span> <span class="keywordtype">char</span> *s) { <span class="keywordflow">return</span> s; });</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// test_unicode_conversion</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Some test characters in utf16 and utf32 encodings.  The last one (the 𝐀) contains a null byte</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    char32_t a32 = 0x61 <span class="comment">/*a*/</span>, z32 = 0x7a <span class="comment">/*z*/</span>, ib32 = 0x203d <span class="comment">/*‽*/</span>, cake32 = 0x1f382 <span class="comment">/*🎂*/</span>,              mathbfA32 = 0x1d400 <span class="comment">/*𝐀*/</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    char16_t b16 = 0x62 <span class="comment">/*b*/</span>, z16 = 0x7a,       ib16 = 0x203d,       cake16_1 = 0xd83c, cake16_2 = 0xdf82, mathbfA16_1 = 0xd835, mathbfA16_2 = 0xdc00;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    std::wstring wstr;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    wstr.push_back(0x61); <span class="comment">// a</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    wstr.push_back(0x2e18); <span class="comment">// ⸘</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>) == 2) { wstr.push_back(mathbfA16_1); wstr.push_back(mathbfA16_2); } <span class="comment">// 𝐀, utf16</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">else</span> { wstr.push_back((<span class="keywordtype">wchar_t</span>) mathbfA32); } <span class="comment">// 𝐀, utf32</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    wstr.push_back(0x7a); <span class="comment">// z</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;good_utf8_string&quot;</span>, []() { <span class="keywordflow">return</span> std::string((<span class="keyword">const</span> <span class="keywordtype">char</span>*)u8<span class="stringliteral">&quot;Say utf8\u203d \U0001f382 \U0001d400&quot;</span>); }); <span class="comment">// Say utf8‽ 🎂 𝐀</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;good_utf16_string&quot;</span>, [=]() { <span class="keywordflow">return</span> std::u16string({ b16, ib16, cake16_1, cake16_2, mathbfA16_1, mathbfA16_2, z16 }); }); <span class="comment">// b‽🎂𝐀z</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;good_utf32_string&quot;</span>, [=]() { <span class="keywordflow">return</span> std::u32string({ a32, mathbfA32, cake32, ib32, z32 }); }); <span class="comment">// a𝐀🎂‽z</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;good_wchar_string&quot;</span>, [=]() { <span class="keywordflow">return</span> wstr; }); <span class="comment">// a‽𝐀z</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bad_utf8_string&quot;</span>, []()  { <span class="keywordflow">return</span> std::string(<span class="stringliteral">&quot;abc\xd0&quot;</span> <span class="stringliteral">&quot;def&quot;</span>); });</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bad_utf16_string&quot;</span>, [=]() { <span class="keywordflow">return</span> std::u16string({ b16, char16_t(0xd800), z16 }); });</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="comment">// Under Python 2.7, invalid unicode UTF-32 characters don&#39;t appear to trigger UnicodeDecodeError</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (PY_MAJOR_VERSION &gt;= 3)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bad_utf32_string&quot;</span>, [=]() { <span class="keywordflow">return</span> std::u32string({ a32, char32_t(0xd800), z32 }); });</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">if</span> (PY_MAJOR_VERSION &gt;= 3 || <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>) == 2)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bad_wchar_string&quot;</span>, [=]() { <span class="keywordflow">return</span> std::wstring({ wchar_t(0x61), wchar_t(0xd800) }); });</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u8_Z&quot;</span>, []() -&gt; <span class="keywordtype">char</span> { <span class="keywordflow">return</span> <span class="charliteral">&#39;Z&#39;</span>; });</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u8_eacute&quot;</span>, []() -&gt; <span class="keywordtype">char</span> { <span class="keywordflow">return</span> <span class="stringliteral">&#39;\xe9&#39;</span>; });</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u16_ibang&quot;</span>, [=]() -&gt; char16_t { <span class="keywordflow">return</span> ib16; });</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u32_mathbfA&quot;</span>, [=]() -&gt; char32_t { <span class="keywordflow">return</span> mathbfA32; });</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;wchar_heart&quot;</span>, []() -&gt; <span class="keywordtype">wchar_t</span> { <span class="keywordflow">return</span> 0x2665; });</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// test_single_char_arguments</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.attr(<span class="stringliteral">&quot;wchar_size&quot;</span>) = <a class="code" href="cast_8h.html#a42ebc557ef15690c3171a99f46d59aab">py::cast</a>(<span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char&quot;</span>, [](<span class="keywordtype">char</span> c) -&gt; <span class="keywordtype">int</span> { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(c); });</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char_lv&quot;</span>, [](<span class="keywordtype">char</span> &amp;c) -&gt; <span class="keywordtype">int</span> { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(c); });</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char16&quot;</span>, [](char16_t c) -&gt; uint16_t { <span class="keywordflow">return</span> c; });</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char16_lv&quot;</span>, [](char16_t &amp;c) -&gt; uint16_t { <span class="keywordflow">return</span> c; });</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char32&quot;</span>, [](char32_t c) -&gt; uint32_t { <span class="keywordflow">return</span> c; });</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_wchar&quot;</span>, [](<span class="keywordtype">wchar_t</span> c) -&gt; <span class="keywordtype">int</span> { <span class="keywordflow">return</span> c; });</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// test_bytes_to_string</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;strlen&quot;</span>, [](<span class="keywordtype">char</span> *s) { <span class="keywordflow">return</span> strlen(s); });</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_length&quot;</span>, [](std::string s) { <span class="keywordflow">return</span> s.length(); });</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#ifdef PYBIND11_HAS_U8STRING</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.attr(<span class="stringliteral">&quot;has_u8string&quot;</span>) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;good_utf8_u8string&quot;</span>, []() { <span class="keywordflow">return</span> std::u8string(u8<span class="stringliteral">&quot;Say utf8\u203d \U0001f382 \U0001d400&quot;</span>); }); <span class="comment">// Say utf8‽ 🎂 𝐀</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bad_utf8_u8string&quot;</span>, []()  { <span class="keywordflow">return</span> std::u8string((<span class="keyword">const</span> char8_t*)<span class="stringliteral">&quot;abc\xd0&quot;</span> <span class="stringliteral">&quot;def&quot;</span>); });</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u8_char8_Z&quot;</span>, []() -&gt; char8_t { <span class="keywordflow">return</span> u8<span class="charliteral">&#39;Z&#39;</span>; });</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// test_single_char_arguments</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char8&quot;</span>, [](char8_t c) -&gt; <span class="keywordtype">int</span> { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(c); });</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;ord_char8_lv&quot;</span>, [](char8_t &amp;c) -&gt; <span class="keywordtype">int</span> { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(c); });</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160; </div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="comment">// test_string_view</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#ifdef PYBIND11_HAS_STRING_VIEW</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.attr(<span class="stringliteral">&quot;has_string_view&quot;</span>) = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view_print&quot;</span>,   [](std::string_view s)    { <a class="code" href="pybind11_8h.html#a62bcafa97abdcadb6520a62e52331b89">py::print</a>(s, s.size()); });</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view16_print&quot;</span>, [](std::u16string_view s) { <a class="code" href="pybind11_8h.html#a62bcafa97abdcadb6520a62e52331b89">py::print</a>(s, s.size()); });</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view32_print&quot;</span>, [](std::u32string_view s) { <a class="code" href="pybind11_8h.html#a62bcafa97abdcadb6520a62e52331b89">py::print</a>(s, s.size()); });</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view_chars&quot;</span>,   [](std::string_view s)    { py::list l; <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : s) l.append((std::uint8_t) c); <span class="keywordflow">return</span> l; });</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view16_chars&quot;</span>, [](std::u16string_view s) { py::list l; <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : s) l.append((<span class="keywordtype">int</span>) c); <span class="keywordflow">return</span> l; });</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view32_chars&quot;</span>, [](std::u32string_view s) { py::list l; <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : s) l.append((<span class="keywordtype">int</span>) c); <span class="keywordflow">return</span> l; });</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view_return&quot;</span>,   []() { <span class="keywordflow">return</span> std::string_view((<span class="keyword">const</span> <span class="keywordtype">char</span>*)u8<span class="stringliteral">&quot;utf8 secret \U0001f382&quot;</span>); });</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view16_return&quot;</span>, []() { <span class="keywordflow">return</span> std::u16string_view(u<span class="stringliteral">&quot;utf16 secret \U0001f382&quot;</span>); });</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view32_return&quot;</span>, []() { <span class="keywordflow">return</span> std::u32string_view(U<span class="stringliteral">&quot;utf32 secret \U0001f382&quot;</span>); });</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160; </div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#   ifdef PYBIND11_HAS_U8STRING</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view8_print&quot;</span>,  [](std::u8string_view s) { <a class="code" href="pybind11_8h.html#a62bcafa97abdcadb6520a62e52331b89">py::print</a>(s, s.size()); });</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view8_chars&quot;</span>,  [](std::u8string_view s) { py::list l; <span class="keywordflow">for</span> (<span class="keyword">auto</span> c : s) l.append((std::uint8_t) c); <span class="keywordflow">return</span> l; });</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;string_view8_return&quot;</span>, []() { <span class="keywordflow">return</span> std::u8string_view(u8<span class="stringliteral">&quot;utf8 secret \U0001f382&quot;</span>); });</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="preprocessor">#   endif</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="comment">// test_integer_casting</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;i32_str&quot;</span>, [](std::int32_t v) { <span class="keywordflow">return</span> std::to_string(v); });</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u32_str&quot;</span>, [](std::uint32_t v) { <span class="keywordflow">return</span> std::to_string(v); });</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;i64_str&quot;</span>, [](std::int64_t v) { <span class="keywordflow">return</span> std::to_string(v); });</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;u64_str&quot;</span>, [](std::uint64_t v) { <span class="keywordflow">return</span> std::to_string(v); });</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// test_int_convert</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;int_passthrough&quot;</span>, [](<span class="keywordtype">int</span> <a class="code" href="structarg.html">arg</a>) { <span class="keywordflow">return</span> <a class="code" href="structarg.html">arg</a>; });</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;int_passthrough_noconvert&quot;</span>, [](<span class="keywordtype">int</span> <a class="code" href="structarg.html">arg</a>) { <span class="keywordflow">return</span> <a class="code" href="structarg.html">arg</a>; }, py::arg{}.<a class="code" href="structarg.html#affdcf2c99a2f27cb539efd6853335d4b">noconvert</a>());</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// test_tuple</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;pair_passthrough&quot;</span>, [](std::pair&lt;bool, std::string&gt; input) {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">return</span> std::make_pair(input.second, input.first);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    }, <span class="stringliteral">&quot;Return a pair in reversed order&quot;</span>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;tuple_passthrough&quot;</span>, [](std::tuple&lt;bool, std::string, int&gt; input) {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cast_8h.html#aa579291da56488336ff46fda4743248d">std::make_tuple</a>(std::get&lt;2&gt;(input), std::get&lt;1&gt;(input), std::get&lt;0&gt;(input));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }, <span class="stringliteral">&quot;Return a triple in reversed order&quot;</span>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;empty_tuple&quot;</span>, []() { <span class="keywordflow">return</span> std::tuple&lt;&gt;(); });</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">static</span> std::pair&lt;RValueCaster, RValueCaster&gt; lvpair;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">static</span> std::tuple&lt;RValueCaster, RValueCaster, RValueCaster&gt; lvtuple;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keyword">static</span> std::pair&lt;RValueCaster, std::tuple&lt;RValueCaster, std::pair&lt;RValueCaster, RValueCaster&gt;&gt;&gt; lvnested;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;rvalue_pair&quot;</span>, []() { <span class="keywordflow">return</span> std::make_pair(<a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, <a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}); });</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;lvalue_pair&quot;</span>, []() -&gt; <span class="keyword">const</span> decltype(lvpair) &amp; { <span class="keywordflow">return</span> lvpair; });</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;rvalue_tuple&quot;</span>, []() { <span class="keywordflow">return</span> <a class="code" href="cast_8h.html#aa579291da56488336ff46fda4743248d">std::make_tuple</a>(<a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, <a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, <a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}); });</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;lvalue_tuple&quot;</span>, []() -&gt; <span class="keyword">const</span> decltype(lvtuple) &amp; { <span class="keywordflow">return</span> lvtuple; });</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;rvalue_nested&quot;</span>, []() {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">return</span> std::make_pair(<a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, <a class="code" href="cast_8h.html#aa579291da56488336ff46fda4743248d">std::make_tuple</a>(<a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, std::make_pair(<a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}, <a class="code" href="struct_r_value_caster.html">RValueCaster</a>{}))); });</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;lvalue_nested&quot;</span>, []() -&gt; <span class="keyword">const</span> decltype(lvnested) &amp; { <span class="keywordflow">return</span> lvnested; });</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keyword">static</span> std::pair&lt;int, std::string&gt; int_string_pair{2, <span class="stringliteral">&quot;items&quot;</span>};</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;int_string_pair&quot;</span>, []() { <span class="keywordflow">return</span> &amp;int_string_pair; });</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">// test_builtins_cast_return_none</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_string&quot;</span>, []() -&gt; std::string * { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_char&quot;</span>,   []() -&gt; <span class="keyword">const</span> <span class="keywordtype">char</span> *  { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_bool&quot;</span>,   []() -&gt; <span class="keywordtype">bool</span> *        { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_int&quot;</span>,    []() -&gt; <span class="keywordtype">int</span> *         { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_float&quot;</span>,  []() -&gt; <span class="keywordtype">float</span> *       { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;return_none_pair&quot;</span>,   []() -&gt; std::pair&lt;int,int&gt; * { <span class="keywordflow">return</span> <span class="keyword">nullptr</span>; });</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// test_none_deferred</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;defer_none_cstring&quot;</span>, [](<span class="keywordtype">char</span> *) { <span class="keywordflow">return</span> <span class="keyword">false</span>; });</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;defer_none_cstring&quot;</span>, [](py::none) { <span class="keywordflow">return</span> <span class="keyword">true</span>; });</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;defer_none_custom&quot;</span>, [](UserType *) { <span class="keywordflow">return</span> <span class="keyword">false</span>; });</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;defer_none_custom&quot;</span>, [](py::none) { <span class="keywordflow">return</span> <span class="keyword">true</span>; });</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;nodefer_none_void&quot;</span>, [](<span class="keywordtype">void</span> *) { <span class="keywordflow">return</span> <span class="keyword">true</span>; });</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;nodefer_none_void&quot;</span>, [](py::none) { <span class="keywordflow">return</span> <span class="keyword">false</span>; });</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// test_void_caster</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;load_nullptr_t&quot;</span>, [](std::nullptr_t) {}); <span class="comment">// not useful, but it should still compile</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;cast_nullptr_t&quot;</span>, []() { <span class="keywordflow">return</span> std::nullptr_t{}; });</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">// [workaround(intel)] ICC 20/21 breaks with py::arg().stuff, using py::arg{}.stuff works.</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// test_bool_caster</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bool_passthrough&quot;</span>, [](<span class="keywordtype">bool</span> <a class="code" href="structarg.html">arg</a>) { <span class="keywordflow">return</span> <a class="code" href="structarg.html">arg</a>; });</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bool_passthrough_noconvert&quot;</span>, [](<span class="keywordtype">bool</span> <a class="code" href="structarg.html">arg</a>) { <span class="keywordflow">return</span> <a class="code" href="structarg.html">arg</a>; }, py::arg{}.<a class="code" href="structarg.html#affdcf2c99a2f27cb539efd6853335d4b">noconvert</a>());</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// TODO: This should be disabled and fixed in future Intel compilers</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">#if !defined(__INTEL_COMPILER)</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// Test &quot;bool_passthrough_noconvert&quot; again, but using () instead of {} to construct py::arg</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// When compiled with the Intel compiler, this results in segmentation faults when importing</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">// the module. Tested with icc (ICC) 2021.1 Beta 20200827, this should be tested again when</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// a newer version of icc is available.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;bool_passthrough_noconvert2&quot;</span>, [](<span class="keywordtype">bool</span> <a class="code" href="structarg.html">arg</a>) { <span class="keywordflow">return</span> <a class="code" href="structarg.html">arg</a>; }, py::arg().<a class="code" href="structarg.html#affdcf2c99a2f27cb539efd6853335d4b">noconvert</a>());</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="comment">// test_reference_wrapper</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_builtin&quot;</span>, [](std::reference_wrapper&lt;int&gt; p) { <span class="keywordflow">return</span> 10 * p.get(); });</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_usertype&quot;</span>, [](std::reference_wrapper&lt;UserType&gt; p) { <span class="keywordflow">return</span> p.get().value(); });</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_usertype_const&quot;</span>, [](std::reference_wrapper&lt;const UserType&gt; p) { <span class="keywordflow">return</span> p.get().value(); });</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_lvalue&quot;</span>, []() -&gt; std::reference_wrapper&lt;UserType&gt; {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keyword">static</span> UserType <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>(1);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(<a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    });</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_lvalue_const&quot;</span>, []() -&gt; std::reference_wrapper&lt;const UserType&gt; {</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <span class="keyword">static</span> UserType <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>(1);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">return</span> std::cref(<a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    });</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160; </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// Not currently supported (std::pair caster has return-by-value cast operator);</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// triggers static_assert failure.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">//m.def(&quot;refwrap_pair&quot;, [](std::reference_wrapper&lt;std::pair&lt;int, int&gt;&gt;) { });</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_list&quot;</span>, [](<span class="keywordtype">bool</span> copy) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keyword">static</span> IncType x1(1), x2(2);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        py::list l;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;f : {<a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(x1), <a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(x2)}) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            l.append(<a class="code" href="cast_8h.html#a42ebc557ef15690c3171a99f46d59aab">py::cast</a>(f, copy ? py::return_value_policy::copy</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                                      : py::return_value_policy::reference));</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">return</span> l;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    }, <span class="stringliteral">&quot;copy&quot;</span>_a);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_iiw&quot;</span>, [](<span class="keyword">const</span> IncType &amp;w) { <span class="keywordflow">return</span> w.value(); });</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;refwrap_call_iiw&quot;</span>, [](IncType &amp;w, py::function f) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        py::list l;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        l.append(f(<a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(w)));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        l.append(f(std::cref(w)));</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        IncType <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>(w.value());</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        l.append(f(<a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(<a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>)));</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        IncType y(w.value());</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keyword">auto</span> r3 = <a class="code" href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">std::ref</a>(y);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        l.append(f(r3));</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span> l;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    });</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">// test_complex</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;complex_cast&quot;</span>, [](<span class="keywordtype">float</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;{}&quot;</span>_s.format(<a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>); });</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;complex_cast&quot;</span>, [](std::complex&lt;float&gt; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <span class="stringliteral">&quot;({}, {})&quot;</span>_s.format(<a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.real(), <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.imag()); });</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// test int vs. long (Python 2)</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;int_cast&quot;</span>, []() {<span class="keywordflow">return</span> (<span class="keywordtype">int</span>) 42;});</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;long_cast&quot;</span>, []() {<span class="keywordflow">return</span> (<span class="keywordtype">long</span>) 42;});</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;longlong_cast&quot;</span>, []() {<span class="keywordflow">return</span>  ULLONG_MAX;});</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;test_void_caster&quot;</span>, []() -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordtype">void</span> *v = (<span class="keywordtype">void</span> *) 0xabcd;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        py::object o = <a class="code" href="cast_8h.html#a42ebc557ef15690c3171a99f46d59aab">py::cast</a>(v);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="keywordflow">return</span> py::cast&lt;void *&gt;(o) == v;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    });</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// Tests const/non-const propagation in cast_op.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes&quot;</span>, [](<a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.tag; });</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_move&quot;</span>, [](<a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp;&amp; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.tag; });</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_ptr&quot;</span>, [](<a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>* <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>-&gt;tag; });</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_ref&quot;</span>, [](<a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.tag; });</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_ref_wrap&quot;</span>, [](std::reference_wrapper&lt;ConstRefCasted&gt; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.get().tag; });</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_const_ptr&quot;</span>, [](<span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>* <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>-&gt;tag; });</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_const_ref&quot;</span>, [](<span class="keyword">const</span> <a class="code" href="struct_const_ref_casted.html">ConstRefCasted</a>&amp; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.tag; });</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <a class="code" href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">m</a>.def(<span class="stringliteral">&quot;takes_const_ref_wrap&quot;</span>, [](std::reference_wrapper&lt;const ConstRefCasted&gt; <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>) { <span class="keywordflow">return</span> <a class="code" href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">x</a>.get().tag; });</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructname_html"><div class="ttname"><a href="structname.html">name</a></div><div class="ttdoc">Annotation for function names.</div><div class="ttdef"><b>Definition:</b> <a href="attr_8h_source.html#l00036">attr.h:36</a></div></div>
<div class="ttc" id="acast_8h_html_a42ebc557ef15690c3171a99f46d59aab"><div class="ttname"><a href="cast_8h.html#a42ebc557ef15690c3171a99f46d59aab">cast</a></div><div class="ttdeci">T cast(const handle &amp;handle)</div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l01769">cast.h:1769</a></div></div>
<div class="ttc" id="anamespacetest__builtin__casters_html_a60ceadcddedff98a968a458fec3a1fc1"><div class="ttname"><a href="namespacetest__builtin__casters.html#a60ceadcddedff98a968a458fec3a1fc1">test_builtin_casters.x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8py_source.html#l00467">test_builtin_casters.py:467</a></div></div>
<div class="ttc" id="aclasstype__caster__generic_html_a077b8d1e4af829443b2e41c3e5786f4d"><div class="ttname"><a href="classtype__caster__generic.html#a077b8d1e4af829443b2e41c3e5786f4d">type_caster_generic::value</a></div><div class="ttdeci">void * value</div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l00767">cast.h:767</a></div></div>
<div class="ttc" id="astruct_const_ref_casted_html_a26a788e4e32d3ba5daab92889ab359ad"><div class="ttname"><a href="struct_const_ref_casted.html#a26a788e4e32d3ba5daab92889ab359ad">ConstRefCasted::tag</a></div><div class="ttdeci">int tag</div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8cpp_source.html#l00019">test_builtin_casters.cpp:19</a></div></div>
<div class="ttc" id="acomplex_8h_html"><div class="ttname"><a href="complex_8h.html">complex.h</a></div></div>
<div class="ttc" id="aclasshandle_html"><div class="ttname"><a href="classhandle.html">handle</a></div><div class="ttdef"><b>Definition:</b> <a href="pytypes_8h_source.html#l00176">pytypes.h:176</a></div></div>
<div class="ttc" id="aclasstype__caster_html"><div class="ttname"><a href="classtype__caster.html">type_caster</a></div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l00954">cast.h:954</a></div></div>
<div class="ttc" id="acast_8h_html_aa579291da56488336ff46fda4743248d"><div class="ttname"><a href="cast_8h.html#aa579291da56488336ff46fda4743248d">make_tuple</a></div><div class="ttdeci">tuple make_tuple()</div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l01866">cast.h:1866</a></div></div>
<div class="ttc" id="astructarg_html"><div class="ttname"><a href="structarg.html">arg</a></div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l01895">cast.h:1895</a></div></div>
<div class="ttc" id="aclasstype__caster_3_01_const_ref_casted_01_4_html_a0d8d84e17d7554fb99b411b6882ebd95"><div class="ttname"><a href="classtype__caster_3_01_const_ref_casted_01_4.html#a0d8d84e17d7554fb99b411b6882ebd95">type_caster&lt; ConstRefCasted &gt;::cast_op_type</a></div><div class="ttdeci">conditional_t&lt; std::is_same&lt; remove_reference_t&lt; T_ &gt;, const ConstRefCasted * &gt;::value, const ConstRefCasted *, conditional_t&lt; std::is_same&lt; T_, const ConstRefCasted &amp; &gt;::value, const ConstRefCasted &amp;, conditional_t&lt; std::is_same&lt; remove_reference_t&lt; T_ &gt;, ConstRefCasted * &gt;::value, ConstRefCasted *, conditional_t&lt; std::is_same&lt; T_, ConstRefCasted &amp; &gt;::value, ConstRefCasted &amp;, ConstRefCasted &amp;&amp; &gt; &gt;&gt; &gt; cast_op_type</div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8cpp_source.html#l00042">test_builtin_casters.cpp:53</a></div></div>
<div class="ttc" id="aexamples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_html_acdb0eff728aec08ed6fff07d2885ea9d"><div class="ttname"><a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#acdb0eff728aec08ed6fff07d2885ea9d">conditional_t</a></div><div class="ttdeci">typename std::conditional&lt; B, T, F &gt;::type conditional_t</div><div class="ttdef"><b>Definition:</b> <a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_source.html#l00505">common.h:505</a></div></div>
<div class="ttc" id="acast_8h_html_a9d3321974e3d593c2e75a2a5b4d6b1b9"><div class="ttname"><a href="cast_8h.html#a9d3321974e3d593c2e75a2a5b4d6b1b9">move</a></div><div class="ttdeci">detail::enable_if_t&lt;!detail::move_never&lt; T &gt;::value, T &gt; move(object &amp;&amp;obj)</div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l01798">cast.h:1798</a></div></div>
<div class="ttc" id="apybind11__tests_8h_html"><div class="ttname"><a href="pybind11__tests_8h.html">pybind11_tests.h</a></div></div>
<div class="ttc" id="astruct_r_value_caster_html"><div class="ttname"><a href="struct_r_value_caster.html">RValueCaster</a></div><div class="ttdef"><b>Definition:</b> <a href="pybind11__tests_8h_source.html#l00062">pybind11_tests.h:62</a></div></div>
<div class="ttc" id="astruct_const_ref_casted_html"><div class="ttname"><a href="struct_const_ref_casted.html">ConstRefCasted</a></div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8cpp_source.html#l00018">test_builtin_casters.cpp:18</a></div></div>
<div class="ttc" id="anamespacepybind11_html"><div class="ttname"><a href="namespacepybind11.html">pybind11</a></div><div class="ttdef"><b>Definition:</b> <a href="____init_____8py_source.html#l00001">__init__.py:1</a></div></div>
<div class="ttc" id="aexamples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_html_a9baa3dd94a23038fa91a432784989d2f"><div class="ttname"><a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#a9baa3dd94a23038fa91a432784989d2f">PYBIND11_NAMESPACE_END</a></div><div class="ttdeci">#define PYBIND11_NAMESPACE_END(name)</div><div class="ttdef"><b>Definition:</b> <a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_source.html#l00018">common.h:17</a></div></div>
<div class="ttc" id="aexamples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_html_aad9385691334ddf318664d8d58419bc8"><div class="ttname"><a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h.html#aad9385691334ddf318664d8d58419bc8">PYBIND11_NAMESPACE_BEGIN</a></div><div class="ttdeci">#define PYBIND11_NAMESPACE_BEGIN(name)</div><div class="ttdef"><b>Definition:</b> <a href="examples_2cpp_2build_2__deps_2pybind11-src_2include_2pybind11_2detail_2common_8h_source.html#l00017">common.h:16</a></div></div>
<div class="ttc" id="astructarg_html_affdcf2c99a2f27cb539efd6853335d4b"><div class="ttname"><a href="structarg.html#affdcf2c99a2f27cb539efd6853335d4b">arg::noconvert</a></div><div class="ttdeci">arg &amp; noconvert(bool flag=true)</div><div class="ttdoc">Indicate that the type should not be converted in the type caster.</div><div class="ttdef"><b>Definition:</b> <a href="cast_8h_source.html#l01901">cast.h:1901</a></div></div>
<div class="ttc" id="anamespacetest__async_html_a01702d406cc3c32308b15cbd61e86f4d"><div class="ttname"><a href="namespacetest__async.html#a01702d406cc3c32308b15cbd61e86f4d">test_async.m</a></div><div class="ttdeci">m</div><div class="ttdef"><b>Definition:</b> <a href="test__async_8py_source.html#l00005">test_async.py:5</a></div></div>
<div class="ttc" id="aclasstype__caster_3_01_const_ref_casted_01_4_html_a6886daa8e5c039f90f5bd86324601315"><div class="ttname"><a href="classtype__caster_3_01_const_ref_casted_01_4.html#a6886daa8e5c039f90f5bd86324601315">type_caster&lt; ConstRefCasted &gt;::load</a></div><div class="ttdeci">bool load(handle, bool)</div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8cpp_source.html#l00031">test_builtin_casters.cpp:31</a></div></div>
<div class="ttc" id="anamespacetest__callbacks_html_a9e87722eddd519b2bd0d4bd5874ccb2b"><div class="ttname"><a href="namespacetest__callbacks.html#a9e87722eddd519b2bd0d4bd5874ccb2b">test_callbacks.value</a></div><div class="ttdeci">value</div><div class="ttdef"><b>Definition:</b> <a href="test__callbacks_8py_source.html#l00126">test_callbacks.py:126</a></div></div>
<div class="ttc" id="atest__builtin__casters_8cpp_html_a4dcf8e609d9ab2d0daacba385a697201"><div class="ttname"><a href="test__builtin__casters_8cpp.html#a4dcf8e609d9ab2d0daacba385a697201">TEST_SUBMODULE</a></div><div class="ttdeci">TEST_SUBMODULE(builtin_casters, m)</div><div class="ttdef"><b>Definition:</b> <a href="test__builtin__casters_8cpp_source.html#l00061">test_builtin_casters.cpp:61</a></div></div>
<div class="ttc" id="apybind11_8h_html_a62bcafa97abdcadb6520a62e52331b89"><div class="ttname"><a href="pybind11_8h.html#a62bcafa97abdcadb6520a62e52331b89">print</a></div><div class="ttdeci">PYBIND11_NOINLINE void print(tuple args, dict kwargs)</div><div class="ttdef"><b>Definition:</b> <a href="pybind11_8h_source.html#l02056">pybind11.h:2056</a></div></div>
<div class="ttc" id="anamespacetest__eigen_html_a399f364735b6f96d36007e558aea7041"><div class="ttname"><a href="namespacetest__eigen.html#a399f364735b6f96d36007e558aea7041">test_eigen.ref</a></div><div class="ttdeci">ref</div><div class="ttdef"><b>Definition:</b> <a href="test__eigen_8py_source.html#l00009">test_eigen.py:9</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
